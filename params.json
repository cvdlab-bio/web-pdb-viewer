{"name":"Web-pdb-viewer","tagline":"Web PDB viewer","body":"<!DOCTYPE html>\r\n<html>\r\n  <head>\r\n    <title>PDB Viewer</title>\r\n    <style>\r\n      html, body {\r\n        width: 100%;\r\n        height: 100%;\r\n        margin: 0;\r\n      }\r\n      body {\r\n        background-color: #fff;\r\n        overflow: hidden;\r\n      }\r\n      #controls {\r\n        position: absolute;\r\n        margin: 5px;\r\n      }\r\n      input[type=\"button\"] {\r\n        border: 0;\r\n        border-radius: 0;\r\n        background-color: #CCC;\r\n        padding: 10px;\r\n        font-size: 16px;\r\n        color: #333;\r\n      }\r\n    </style>\r\n   </head>\r\n   <body>\r\n    <div id=\"controls\">\r\n      <input id=\"info\" type=\"button\" value=\"Info\">\r\n      <input id=\"insert\" type=\"button\" value=\"New PDB\">\r\n      <input id=\"reload\" type=\"button\" value=\"Reload\">\r\n    </div>\r\n    <script src=\"http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js\"></script> \r\n    <script src=\"http://cdnjs.cloudflare.com/ajax/libs/three.js/r67/three.min.js\"></script>\r\n    <script src=\"http://cdnjs.cloudflare.com/ajax/libs/stats.js/r11/Stats.min.js\"></script>\r\n    <script src=\"http://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.5/dat.gui.min.js\"></script>\r\n    <script src=\"assets/libs/THREEx.WindowResize.js\"></script>\r\n    <script src=\"assets/libs/TrackballControls.js\"></script>\r\n    <script src=\"assets/libs/builder.js\"></script>\r\n    <script src='parserVDW.js'></script>\r\n    <script>\r\n    $(function () {\r\n      $('#info').on('click', showInfo);\r\n      $('#insert').on('click', loadPDB);\r\n      $('#reload').on('click', reload);\r\n\r\n      function showInfo() {\r\n        window.alert([\r\n          'Colors',\r\n          'S => Yellow',\r\n          'N => Blue',\r\n          'C => Black',\r\n          'O => Red',\r\n          'H => Gray',\r\n          'Cl => Green', \r\n          'F => Light Blue',\r\n          'K => Lilac',\r\n          'P => Orange'\r\n        ].join('\\n'));\r\n      };\r\n\r\n      function loadPDB() {\r\n        var id = prompt('insert PDB Id');\r\n        var base = 'http://rcsb.org/pdb/files/';\r\n        var ext = '.pdb';\r\n        var uri = base + id + ext;\r\n\r\n        $.get(uri)\r\n          .done(function(response) {\r\n            var atoms = clear(response);\r\n            addAtomsToScene(atoms);\r\n          })\r\n          .fail(function() {\r\n            alert('PDB ' + id + ' DOES NOT EXIST');\r\n          });\r\n      }\r\n\r\n      function reload () {\r\n        window.location.reload(true);\r\n      }\r\n\r\n      var scene = new THREE.Scene();\r\n      var atoms = new THREE.Object3D();\r\n      \r\n      var axisHelper = new THREE.AxisHelper(1);\r\n      scene.add(axisHelper);\r\n\r\n      var width = window.innerWidth;\r\n      var height = window.innerHeight;\r\n      var aspect = width / height;\r\n      var camera = new THREE.PerspectiveCamera(45, aspect, 0.1, 100000);\r\n      camera.position.set(40, 40, 40);\r\n      camera.up = new THREE.Vector3(0, 1, 0);\r\n      camera.lookAt(scene.position);\r\n\r\n      var renderer = new THREE.WebGLRenderer();\r\n      renderer.setSize(window.innerWidth, window.innerHeight);\r\n      renderer.setClearColor(new THREE.Color(0xffffff));\r\n      renderer.setSize(width, height);\r\n      document.body.appendChild(renderer.domElement);\r\n\r\n      THREEx.WindowResize(renderer, camera);\r\n\r\n      var trackballControls = new THREE.TrackballControls(camera, renderer.domElement);\r\n     \r\n      var maps = {\r\n        'H': THREE.ImageUtils.loadTexture(\"assets/textures/H_texture.png\"),\r\n        'N': THREE.ImageUtils.loadTexture(\"assets/textures/N_texture.png\"),\r\n        'C': THREE.ImageUtils.loadTexture(\"assets/textures/C_texture.png\"),\r\n        'O': THREE.ImageUtils.loadTexture(\"assets/textures/O_texture.png\"),\r\n        'S': THREE.ImageUtils.loadTexture(\"assets/textures/S_texture.png\"),\r\n        'Cl': THREE.ImageUtils.loadTexture(\"assets/textures/Cl_texture.png\"),\r\n        'F': THREE.ImageUtils.loadTexture(\"assets/textures/F_texture.png\"),\r\n        'K': THREE.ImageUtils.loadTexture(\"assets/textures/K_texture.png\"),\r\n        'P': THREE.ImageUtils.loadTexture(\"assets/textures/P_texture.png\"),\r\n        '_': THREE.ImageUtils.loadTexture(\"assets/textures/g.png\")\r\n      };\r\n\r\n      radii = {\r\n        'H': 1.20,\r\n        'N': 1.55,\r\n        'C': 1.70,\r\n        'O': 1.52,\r\n        'S': 1.80,\r\n        'Cl': 1.75,\r\n        'F': 1.47,\r\n        'K': 2.75,\r\n        'P': 1.80,\r\n        '_': 1.00\r\n      };\r\n     \r\n      // add all atoms to scene\r\n      function addAtomsToScene(atoms) {\r\n        atoms.forEach(function (atom) {\r\n          var material = new THREE.SpriteMaterial({\r\n            map: maps[atom.type] || maps._,\r\n            useScreenCoordinates: false,\r\n          });\r\n          var radius = radii[atom.type] || radii._;\r\n          var sprite = new THREE.Sprite(material);\r\n          sprite.position.set(atom.x, atom.y, atom.z);\r\n          sprite.scale.set(radius*2, radius*2, 1.0);\r\n          scene.add(sprite);\r\n        });\r\n      }\r\n\r\n      function render() {\r\n        trackballControls.update();\r\n        requestAnimationFrame(render);\r\n        renderer.render(scene, camera);\r\n      }\r\n\r\n      render();\r\n\r\n    });\r\n    </script>\r\n  </body>\r\n</html>","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}